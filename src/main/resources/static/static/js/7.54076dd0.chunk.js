(this["webpackJsonpcseju-office-management-app"]=this["webpackJsonpcseju-office-management-app"]||[]).push([[7],{104:function(e,t,a){"use strict";var r=a(1),s=a(2),n=a(4),o=a.n(n),l=a(0),c=a.n(l),u=a(5),d=c.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.size,l=e.toggle,d=e.vertical,m=e.className,i=e.as,p=void 0===i?"div":i,y=Object(s.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),h=Object(u.a)(a,"btn-group"),f=h;return d&&(f=h+"-vertical"),c.a.createElement(p,Object(r.a)({},y,{ref:t,className:o()(m,f,n&&h+"-"+n,l&&h+"-toggle")}))}));d.displayName="ButtonGroup",d.defaultProps={vertical:!1,toggle:!1,role:"group"},t.a=d},117:function(e,t,a){"use strict";a.r(t);var r=a(8),s=a(9),n=a(12),o=a(10),l=a(34),c=a(11),u=a(0),d=a.n(u),m=a(77),i=a(78),p=a.n(i),y=a(115),h=a(73),f=a(68),b=a(111),g=a(112),C=a(33),E=a(25),I=a(104),S={padding:"0px",height:"22px",width:"22px"},v=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(I.a,{style:{float:"right"}},d.a.createElement(b.a,{id:"year_"+this.props.yearData.yearId,size:"sm",variant:"outline-secondary",style:S,onClick:this.props.addSemester},d.a.createElement("span",null,d.a.createElement(C.a,{id:"year_"+this.props.yearData.yearId,icon:E.f}))),d.a.createElement(b.a,{id:"year_"+this.props.yearData.yearId,size:"sm",variant:"outline-danger",style:S,onClick:this.props.deleteYear},d.a.createElement("span",null,d.a.createElement(C.a,{icon:E.h,id:"year_"+this.props.yearData.yearId})))))}}]),t}(u.Component),O={padding:"0px",height:"22px",width:"22px"},j=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(I.a,{style:{float:"right"}},d.a.createElement(b.a,{size:"sm",variant:"outline-secondary",style:O,onClick:this.props.addCourse.bind(this,this.props.semesterData.yearId,this.props.semesterData.semesterId)},d.a.createElement("span",null,d.a.createElement(C.a,{icon:E.f}))),d.a.createElement(b.a,{id:"year_"+this.props.semesterData.yearId+"_semester_"+this.props.semesterData.semesterId,size:"sm",variant:"outline-danger",style:O,onClick:this.props.deleteSemester},d.a.createElement("span",null,d.a.createElement(C.a,{icon:E.h,id:"year_"+this.props.semesterData.yearId+"_semester_"+this.props.semesterData.semesterId})))))}}]),t}(u.Component),w={padding:"0px",height:"22px",width:"22px"},D=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement(I.a,{style:{float:"right"}},d.a.createElement(b.a,{size:"sm",variant:"outline-secondary",style:w},d.a.createElement("span",null,d.a.createElement(C.a,{icon:E.d}))),d.a.createElement(b.a,{size:"sm",variant:"outline-danger",style:w,onClick:this.props.deleteCourse.bind(this,this.props.courseData.yearId,this.props.courseData.semesterId,this.props.courseData.courseCode)},d.a.createElement("span",null,d.a.createElement(C.a,{icon:E.h})))))}}]),t}(u.Component),M=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(o.a)(t).call(this,e))).getCourseTypes=function(){for(var e=a.state.syllabusXmlObj.getElementsByTagName("courseType"),t=[],r=0;r<e.length;r++)t.push(e[r].getAttribute("name"));a.setState({courseTypes:t})},a.getCourses=function(e){for(var t=e.getElementsByTagName("course"),a=[],r=0;r<t.length;r++){var s={courseCode:"",courseTitle:"",courseCredit:""};s.courseCode=t[r].getAttribute("courseCode"),a.push(s)}return a},a.getSemesters=function(e){for(var t=e.getElementsByTagName("semester"),r=[],s=0;s<t.length;s++)r.push({semesterId:t[s].getAttribute("id"),courses:a.getCourses(t[s])});return r},a.getYears=function(){for(var e=a.state.syllabusXmlObj.getElementsByTagName("year"),t=[],r=0;r<e.length;r++){var s=a.getSemesters(e[r]);t.push({yearId:e[r].getAttribute("id"),semesters:s})}a.setState({years:t})},a.getBasicInfo=function(){},a.parseXMLData=function(){a.getBasicInfo(),a.getCourseTypes(),a.getYears()},a.getNumberSuffix=function(e){return e%10===1?"st":e%10===2?"nd":e%10===3?"rd":"th"},a.getSemesterRowSpan=function(e,t){return Math.max(1,a.state.years[e].semesters[t].courses.length)},a.getYearRowSpan=function(e){if(0===a.state.years[e].semesters.length)return 1;for(var t=0,r=0;r<a.state.years[e].semesters.length;r++)t+=a.getSemesterRowSpan(e,r);return t},a.addYear=function(e){var t="".concat(m.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/add/year"),r=new DOMParser;p.a.get(t).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:r.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.deleteYear=function(e){var t=e.currentTarget.id.split("_")[1],r="".concat(m.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/delete/year/").concat(t),s=new DOMParser;p.a.delete(r,{}).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:s.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.addSemester=function(e){var t=e.currentTarget.id.split("_")[1],r="".concat(m.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/").concat(t,"/add/semester"),s=new DOMParser;p.a.get(r).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:s.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.deleteSemester=function(e){var t=e.currentTarget.id.split("_"),r=t[1],s=t[3],n="".concat(m.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/").concat(r,"/delete/semester/").concat(s),o=new DOMParser;p.a.delete(n,{}).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:o.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.displayAddNewCourseForm=function(e,t){a.setState({displayAddCourseForm:"block"})},a.addCourse=function(e,t){a.setState({newCourse:{yearId:e,semesterId:t}}),a.displayAddNewCourseForm(e,t)},a.onchangeHandlerForAddNewCourseForm=function(e){var t=a.state.newCourse;t.courseCode=e.target.value,a.setState({newCourse:t})},a.saveNewCourse=function(e){if(e.preventDefault(),""!==a.state.newCourse.courseCode&&void 0!==a.state.newCourse.courseCode){var t="".concat(m.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/").concat(a.state.newCourse.yearId,"/").concat(a.state.newCourse.semesterId,"/add/course"),r=new DOMParser;p.a.post(t,a.state.newCourse).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:r.parseFromString(e,"text/xml")}),a.parseXMLData()}))}window.location.reload()},a.deleteCourse=function(e,t,r){if(void 0!==e&&void 0!==t&&void 0!==r){var s="".concat(m.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/").concat(e,"/").concat(t,"/delete/course/").concat(r),n=new DOMParser;p.a.delete(s,null).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:n.parseFromString(e,"text/xml")}),a.parseXMLData()}))}},a.state={syllabusName:"syl1",syllabusXmlObj:"",effectiveFrom:0,effectiveTo:0,syllabusType:"",courseTypes:[],years:[],newCourse:{courseCode:"",courseTitle:"",courseCredit:"",yearId:"",semesterId:""},displayAddCourseForm:"none"},a.onchangeHandlerForAddNewCourseForm=a.onchangeHandlerForAddNewCourseForm.bind(Object(l.a)(a)),a.addYear=a.addYear.bind(Object(l.a)(a)),a.deleteYear=a.deleteYear.bind(Object(l.a)(a)),a.addSemester=a.addSemester.bind(Object(l.a)(a)),a.deleteSemester=a.deleteSemester.bind(Object(l.a)(a)),a.addCourse=a.addCourse.bind(Object(l.a)(a)),a.deleteCourse=a.deleteCourse.bind(Object(l.a)(a)),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="".concat(m.a.restApiBaseUrl,"/syllabus/get/").concat(this.state.syllabusName),a=new DOMParser;p.a.get(t).then((function(e){return e.data})).then((function(t){e.setState({syllabusXmlObj:a.parseFromString(t,"text/xml")}),e.parseXMLData()}))}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"container"},d.a.createElement("h6",null,"Edit Syllabus"),d.a.createElement("div",{style:{display:this.state.displayAddCourseForm}},d.a.createElement(y.a,{onSubmit:this.saveNewCourse},d.a.createElement(y.a.Group,{as:h.a},d.a.createElement(y.a.Label,{column:!0,sm:"2"},"Course Code"),d.a.createElement(f.a,{sm:"7"},d.a.createElement(y.a.Control,{type:"text",placeholder:"Course Code",size:"sm",style:{border:"none",borderBottom:"2px solid gray"},required:!0,onChange:this.onchangeHandlerForAddNewCourseForm})),d.a.createElement(f.a,{sm:"3"},d.a.createElement(b.a,{variant:"primary",type:"submit",size:"sm"},"Add Course"))))),d.a.createElement("div",null,d.a.createElement(g.a,{size:"sm",bordered:!0},d.a.createElement("thead",null),d.a.createElement("tbody",null,this.state.years.map((function(t,a){return d.a.createElement(d.a.Fragment,{key:Math.floor(1e3*Math.random())},d.a.createElement("tr",{key:Math.floor(1e3*Math.random())},d.a.createElement("td",{rowSpan:e.getYearRowSpan(a)},t.yearId+e.getNumberSuffix(t.yearId)+" Year ",d.a.createElement(v,{yearData:{yearId:t.yearId},addSemester:e.addSemester,deleteYear:e.deleteYear})),t.semesters.length>0?d.a.createElement("td",{rowSpan:e.getSemesterRowSpan(a,0)},t.semesters[0].semesterId+e.getNumberSuffix(t.semesters[0].semesterId)+" Semester ",d.a.createElement(j,{semesterData:{yearId:t.yearId,semesterId:t.semesters[0].semesterId},deleteSemester:e.deleteSemester,addCourse:e.addCourse})):null,t.semesters.length>0&&t.semesters[0].courses.length>0?d.a.createElement(d.a.Fragment,{key:Math.floor(1e3*Math.random())},d.a.createElement("td",null,t.semesters[0].courses[0].courseCode,d.a.createElement(D,{courseData:{yearId:t.yearId,semesterId:t.semesters[0].semesterId,courseCode:t.semesters[0].courses[0].courseCode},deleteCourse:e.deleteCourse}))):null),t.semesters.length>0&&t.semesters[0].courses.length>1?t.semesters[0].courses.map((function(a,r){return r>0?d.a.createElement("tr",{key:Math.floor(1e3*Math.random())},d.a.createElement("td",null,a.courseCode,d.a.createElement(D,{courseData:{yearId:t.yearId,semesterId:t.semesters[0].semesterId,courseCode:a.courseCode},deleteCourse:e.deleteCourse}))):null})):null,t.semesters.length>1?t.semesters.map((function(a,r){return r>0?d.a.createElement(d.a.Fragment,{key:Math.floor(1e3*Math.random())},d.a.createElement("tr",{key:Math.floor(1e3*Math.random())},d.a.createElement("td",{rowSpan:Math.max(1,a.courses.length)},a.semesterId+e.getNumberSuffix(a.semesterId)+" Semester ",d.a.createElement(j,{semesterData:{yearId:t.yearId,semesterId:a.semesterId},deleteSemester:e.deleteSemester,addCourse:e.addCourse})),a.courses.length>0?d.a.createElement(d.a.Fragment,{key:Math.floor(1e3*Math.random())},d.a.createElement("td",null,a.courses[0].courseCode,d.a.createElement(D,{courseData:{yearId:t.yearId,semesterId:a.semesterId,courseCode:a.courses[0].courseCode},deleteCourse:e.deleteCourse}))):null),a.courses.length>1?a.courses.map((function(r,s){return s>0?d.a.createElement("tr",{key:Math.floor(1e3*Math.random())},d.a.createElement("td",null,r.courseCode,d.a.createElement(D,{courseData:{yearId:t.yearId,semesterId:a.semesterId,courseCode:r.courseCode},deleteCourse:e.deleteCourse}))):null})):null):null})):null)})))),d.a.createElement("table",{style:{border:"none"}},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement(b.a,{size:"sm",variant:"outline-secondary",style:{float:"left"},onClick:this.addYear},d.a.createElement("span",null,d.a.createElement(C.a,{icon:E.e}))," Add Year")))))),d.a.createElement("div",{className:"container"}))}}]),t}(u.Component);t.default=M},77:function(e,t,a){"use strict";t.a={restApiBaseUrl:"https://cseju.herokuapp.com/api"}}}]);
//# sourceMappingURL=7.54076dd0.chunk.js.map