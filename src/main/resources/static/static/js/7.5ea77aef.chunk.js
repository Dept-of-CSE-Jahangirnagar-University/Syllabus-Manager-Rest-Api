(this["webpackJsonpcseju-office-management-app"]=this["webpackJsonpcseju-office-management-app"]||[]).push([[7],{104:function(e,t,a){"use strict";var r=a(1),s=a(2),n=a(4),l=a.n(n),o=a(0),c=a.n(o),u=a(5),m=c.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.size,o=e.toggle,m=e.vertical,d=e.className,i=e.as,p=void 0===i?"div":i,y=Object(s.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),h=Object(u.a)(a,"btn-group"),f=h;return m&&(f=h+"-vertical"),c.a.createElement(p,Object(r.a)({},y,{ref:t,className:l()(d,f,n&&h+"-"+n,o&&h+"-toggle")}))}));m.displayName="ButtonGroup",m.defaultProps={vertical:!1,toggle:!1,role:"group"},t.a=m},117:function(e,t,a){"use strict";a.r(t);var r=a(8),s=a(9),n=a(12),l=a(10),o=a(34),c=a(11),u=a(0),m=a.n(u),d=a(77),i=a(78),p=a.n(i),y=a(115),h=a(73),f=a(68),g=a(111),b=a(112),E=a(33),C=a(25),S=a(104),v={padding:"0px",height:"22px",width:"22px"},O=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(S.a,{style:{float:"right"}},m.a.createElement(g.a,{id:"year_"+this.props.yearData.yearId,size:"sm",variant:"outline-secondary",style:v,onClick:this.props.addSemester},m.a.createElement("span",null,m.a.createElement(E.a,{id:"year_"+this.props.yearData.yearId,icon:C.f}))),m.a.createElement(g.a,{id:"year_"+this.props.yearData.yearId,size:"sm",variant:"outline-danger",style:v,onClick:this.props.deleteYear},m.a.createElement("span",null,m.a.createElement(E.a,{icon:C.h,id:"year_"+this.props.yearData.yearId})))))}}]),t}(u.Component),j={padding:"0px",height:"22px",width:"22px"},I=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(S.a,{style:{float:"right"}},m.a.createElement(g.a,{size:"sm",variant:"outline-secondary",style:j,onClick:this.props.addCourse.bind(this,this.props.semesterData.yearId,this.props.semesterData.semesterId)},m.a.createElement("span",null,m.a.createElement(E.a,{icon:C.f}))),m.a.createElement(g.a,{id:"year_"+this.props.semesterData.yearId+"_semester_"+this.props.semesterData.semesterId,size:"sm",variant:"outline-danger",style:j,onClick:this.props.deleteSemester},m.a.createElement("span",null,m.a.createElement(E.a,{icon:C.h,id:"year_"+this.props.semesterData.yearId+"_semester_"+this.props.semesterData.semesterId})))))}}]),t}(u.Component),w={padding:"0px",height:"22px",width:"22px"},M=function(e){function t(){return Object(r.a)(this,t),Object(n.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(S.a,{style:{float:"right"}},m.a.createElement(g.a,{size:"sm",variant:"outline-secondary",style:w},m.a.createElement("span",null,m.a.createElement(E.a,{icon:C.d}))),m.a.createElement(g.a,{size:"sm",variant:"outline-danger",style:w},m.a.createElement("span",null,m.a.createElement(E.a,{icon:C.h})))))}}]),t}(u.Component),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(n.a)(this,Object(l.a)(t).call(this,e))).getCourseTypes=function(){for(var e=a.state.syllabusXmlObj.getElementsByTagName("courseType"),t=[],r=0;r<e.length;r++)t.push(e[r].getAttribute("name"));a.setState({courseTypes:t})},a.getCourses=function(e){for(var t=e.getElementsByTagName("course"),a=[],r=0;r<t.length;r++){var s={courseCode:"",courseTitle:"",courseCredit:""};s.courseCode=t[r].getAttribute("courseCode"),a.push(s)}return a},a.getSemesters=function(e){for(var t=e.getElementsByTagName("semester"),r=[],s=0;s<t.length;s++)r.push({semesterId:t[s].getAttribute("id"),courses:a.getCourses(t[s])});return r},a.getYears=function(){for(var e=a.state.syllabusXmlObj.getElementsByTagName("year"),t=[],r=0;r<e.length;r++){var s=a.getSemesters(e[r]);t.push({yearId:e[r].getAttribute("id"),semesters:s})}a.setState({years:t})},a.getBasicInfo=function(){},a.parseXMLData=function(){a.getBasicInfo(),a.getCourseTypes(),a.getYears()},a.getNumberSuffix=function(e){return e%10===1?"st":e%10===2?"nd":e%10===3?"rd":"th"},a.getSemesterRowSpan=function(e,t){return Math.max(1,a.state.years[e].semesters[t].courses.length)},a.getYearRowSpan=function(e){if(0===a.state.years[e].semesters.length)return 1;for(var t=0,r=0;r<a.state.years[e].semesters.length;r++)t+=a.getSemesterRowSpan(e,r);return t},a.addYear=function(e){var t="".concat(d.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/add/year"),r=new DOMParser;p.a.get(t).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:r.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.deleteYear=function(e){var t=e.currentTarget.id.split("_")[1],r="".concat(d.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/delete/year/").concat(t),s=new DOMParser;p.a.delete(r,{}).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:s.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.addSemester=function(e){var t=e.currentTarget.id.split("_")[1],r="".concat(d.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/").concat(t,"/add/semester"),s=new DOMParser;p.a.get(r).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:s.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.deleteSemester=function(e){var t=e.currentTarget.id.split("_"),r=t[1],s=t[3],n="".concat(d.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/").concat(r,"/delete/semester/").concat(s),l=new DOMParser;p.a.delete(n,{}).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:l.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.displayAddNewCourseForm=function(e,t){a.setState({displayAddCourseForm:"block"})},a.addCourse=function(e,t){a.setState({newCourse:{yearId:e,semesterId:t}}),a.displayAddNewCourseForm(e,t)},a.onchangeHandlerForAddNewCourseForm=function(e){var t=a.state.newCourse;t.courseCode=e.target.value,a.setState({newCourse:t})},a.saveNewCourse=function(e){e.preventDefault();var t="".concat(d.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/").concat(a.state.newCourse.yearId,"/").concat(a.state.newCourse.semesterId,"/add/course"),r=new DOMParser;p.a.post(t,a.state.newCourse).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:r.parseFromString(e,"text/xml")}),a.parseXMLData()})),setTimeout((function(){a.setState({displayAddCourseForm:"none"})}),600)},a.state={syllabusName:"syl1",syllabusXmlObj:"",effectiveFrom:0,effectiveTo:0,syllabusType:"",courseTypes:[],years:[],newCourse:{courseCode:"",courseTitle:"",courseCredit:"",yearId:"",semesterId:""},displayAddCourseForm:"none"},a.onchangeHandlerForAddNewCourseForm=a.onchangeHandlerForAddNewCourseForm.bind(Object(o.a)(a)),a.addYear=a.addYear.bind(Object(o.a)(a)),a.deleteYear=a.deleteYear.bind(Object(o.a)(a)),a.addSemester=a.addSemester.bind(Object(o.a)(a)),a.deleteSemester=a.deleteSemester.bind(Object(o.a)(a)),a.addCourse=a.addCourse.bind(Object(o.a)(a)),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="".concat(d.a.restApiBaseUrl,"/syllabus/get/").concat(this.state.syllabusName),a=new DOMParser;p.a.get(t).then((function(e){return e.data})).then((function(t){e.setState({syllabusXmlObj:a.parseFromString(t,"text/xml")}),e.parseXMLData()}))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"container"},m.a.createElement("h6",null,"Edit Syllabus"),m.a.createElement("div",{style:{display:this.state.displayAddCourseForm}},m.a.createElement(y.a,{onSubmit:this.saveNewCourse},m.a.createElement(y.a.Group,{as:h.a},m.a.createElement(y.a.Label,{column:!0,sm:"2"},"Course Code"),m.a.createElement(f.a,{sm:"7"},m.a.createElement(y.a.Control,{type:"text",placeholder:"Course Code",size:"sm",style:{border:"none",borderBottom:"2px solid gray"},required:!0,onChange:this.onchangeHandlerForAddNewCourseForm})),m.a.createElement(f.a,{sm:"3"},m.a.createElement(g.a,{variant:"primary",type:"submit",size:"sm"},"Add Course"))))),m.a.createElement("div",null,m.a.createElement(b.a,{size:"sm",bordered:!0},m.a.createElement("thead",null),m.a.createElement("tbody",null,this.state.years.map((function(t,a){return m.a.createElement(m.a.Fragment,{key:Math.floor(1e3*Math.random())},m.a.createElement("tr",{key:Math.floor(1e3*Math.random())},m.a.createElement("td",{rowSpan:e.getYearRowSpan(a)},t.yearId+e.getNumberSuffix(t.yearId)+" Year ",m.a.createElement(O,{yearData:{yearId:t.yearId},addSemester:e.addSemester,deleteYear:e.deleteYear})),t.semesters.length>0?m.a.createElement("td",{rowSpan:e.getSemesterRowSpan(a,0)},t.semesters[0].semesterId+e.getNumberSuffix(t.semesters[0].semesterId)+" Semester ",m.a.createElement(I,{semesterData:{yearId:t.yearId,semesterId:t.semesters[0].semesterId},deleteSemester:e.deleteSemester,addCourse:e.addCourse})):null,t.semesters.length>0&&t.semesters[0].courses.length>0?m.a.createElement(m.a.Fragment,{key:Math.floor(1e3*Math.random())},m.a.createElement("td",null,t.semesters[0].courses[0].courseCode,m.a.createElement(M,null))):null),t.semesters.length>0&&t.semesters[0].courses.length>1?t.semesters[0].courses.map((function(e,t){return t>0?m.a.createElement("tr",{key:Math.floor(1e3*Math.random())},m.a.createElement("td",null,e.courseCode,m.a.createElement(M,null))):null})):null,t.semesters.length>1?t.semesters.map((function(a,r){return r>0?m.a.createElement(m.a.Fragment,{key:Math.floor(1e3*Math.random())},m.a.createElement("tr",{key:Math.floor(1e3*Math.random())},m.a.createElement("td",{rowSpan:Math.max(1,a.courses.length)},a.semesterId+e.getNumberSuffix(a.semesterId)+" Semester ",m.a.createElement(I,{semesterData:{yearId:t.yearId,semesterId:a.semesterId},deleteSemester:e.deleteSemester,addCourse:e.addCourse})),a.courses.length>0?m.a.createElement(m.a.Fragment,{key:Math.floor(1e3*Math.random())},m.a.createElement("td",null,a.courses[0].courseCode,m.a.createElement(M,null))):null),a.courses.length>1?a.courses.map((function(e,t){return t>0?m.a.createElement("tr",{key:Math.floor(1e3*Math.random())},m.a.createElement("td",null,e.courseCode,m.a.createElement(M,null))):null})):null):null})):null)})))),m.a.createElement("table",{style:{border:"none"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement(g.a,{size:"sm",variant:"outline-secondary",style:{float:"left"},onClick:this.addYear},m.a.createElement("span",null,m.a.createElement(E.a,{icon:C.e}))," Add Year")))))),m.a.createElement("div",{className:"container"}))}}]),t}(u.Component);t.default=x},77:function(e,t,a){"use strict";t.a={restApiBaseUrl:"https://cseju.herokuapp.com/api"}}}]);
//# sourceMappingURL=7.5ea77aef.chunk.js.map