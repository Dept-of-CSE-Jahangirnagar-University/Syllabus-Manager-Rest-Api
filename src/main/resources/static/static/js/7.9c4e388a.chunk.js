(this["webpackJsonpcseju-office-management-app"]=this["webpackJsonpcseju-office-management-app"]||[]).push([[7],{116:function(e,t,a){"use strict";a.r(t);var r=a(8),n=a(9),s=a(12),l=a(10),c=a(35),o=a(11),m=a(0),u=a.n(m),i=a(77),d=a(78),p=a.n(d),y=a(112),h=a(111),g=a(33),f=a(25),E=a(1),b=a(2),S=a(4),v=a.n(S),O=a(5),j=u.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.size,n=e.toggle,s=e.vertical,l=e.className,c=e.as,o=void 0===c?"div":c,m=Object(b.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),i=Object(O.a)(a,"btn-group"),d=i;return s&&(d=i+"-vertical"),u.a.createElement(o,Object(E.a)({},m,{ref:t,className:v()(l,d,r&&i+"-"+r,n&&i+"-toggle")}))}));j.displayName="ButtonGroup",j.defaultProps={vertical:!1,toggle:!1,role:"group"};var M=j,I={padding:"0px",height:"22px",width:"22px"},x=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(M,{style:{float:"right"}},u.a.createElement(h.a,{id:"year_"+this.props.yearData.yearId,size:"sm",variant:"outline-secondary",style:I,onClick:this.props.addSemester},u.a.createElement("span",null,u.a.createElement(g.a,{id:"year_"+this.props.yearData.yearId,icon:f.f}))),u.a.createElement(h.a,{id:"year_"+this.props.yearData.yearId,size:"sm",variant:"outline-danger",style:I,onClick:this.props.deleteYear},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.h,id:"year_"+this.props.yearData.yearId})))))}}]),t}(m.Component),C={padding:"0px",height:"22px",width:"22px"},w=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(M,{style:{float:"right"}},u.a.createElement(h.a,{size:"sm",variant:"outline-secondary",style:C},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.f}))),u.a.createElement(h.a,{id:"year_"+this.props.semesterData.yearId+"_semester_"+this.props.semesterData.semesterId,size:"sm",variant:"outline-danger",style:C,onClick:this.props.deleteSemester},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.h,id:"year_"+this.props.semesterData.yearId+"_semester_"+this.props.semesterData.semesterId})))))}}]),t}(m.Component),D={padding:"0px",height:"22px",width:"22px"},N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this,e))).getCourseTypes=function(){for(var e=a.state.syllabusXmlObj.getElementsByTagName("courseType"),t=[],r=0;r<e.length;r++)t.push(e[r].getAttribute("name"));a.setState({courseTypes:t})},a.getCourses=function(e){for(var t=e.getElementsByTagName("course"),a=[],r=0;r<t.length;r++){var n={courseCode:"",courseTitle:"",courseCredit:""};n.courseCode=t[r].getAttribute("courseCode"),a.push(n)}return a},a.getSemesters=function(e){for(var t=e.getElementsByTagName("semester"),r=[],n=0;n<t.length;n++)r.push({semesterId:t[n].getAttribute("id"),courses:a.getCourses(t[n])});return r},a.getYears=function(){for(var e=a.state.syllabusXmlObj.getElementsByTagName("year"),t=[],r=0;r<e.length;r++){var n=a.getSemesters(e[r]);t.push({yearId:e[r].getAttribute("id"),semesters:n})}a.setState({years:t})},a.getBasicInfo=function(){},a.parseXMLData=function(){a.getBasicInfo(),a.getCourseTypes(),a.getYears()},a.getNumberSuffix=function(e){return e%10===1?"st":e%10===2?"nd":e%10===3?"rd":"th"},a.getSemesterRowSpan=function(e,t){return Math.max(1,a.state.years[e].semesters[t].courses.length)},a.getYearRowSpan=function(e){if(0===a.state.years[e].semesters.length)return 1;for(var t=0,r=0;r<a.state.years[e].semesters.length;r++)t+=a.getSemesterRowSpan(e,r);return t},a.addYear=function(e){var t="".concat(i.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/add/year"),r=new DOMParser;p.a.get(t).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:r.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.deleteYear=function(e){var t=e.currentTarget.id.split("_")[1],r="".concat(i.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/delete/year/").concat(t),n=new DOMParser;p.a.delete(r,{}).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:n.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.addSemester=function(e){var t=e.currentTarget.id.split("_")[1],r="".concat(i.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/").concat(t,"/add/semester"),n=new DOMParser;p.a.get(r).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:n.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.deleteSemester=function(e){var t=e.currentTarget.id.split("_"),r=t[1],n=t[3],s="".concat(i.a.restApiBaseUrl,"/syllabus/edit/").concat(a.state.syllabusName,"/").concat(r,"/delete/semester/").concat(n),l=new DOMParser;p.a.delete(s,{}).then((function(e){return e.data})).then((function(e){a.setState({syllabusXmlObj:l.parseFromString(e,"text/xml")}),a.parseXMLData()}))},a.onchangeHandlerForAddNewCourseForm=function(e){},a.state={syllabusName:"syl1",syllabusXmlObj:"",effectiveFrom:0,effectiveTo:0,syllabusType:"",courseTypes:[],years:[],newCourse:{courseCode:"",courseTitle:"",courseCredit:"",year:"",semester:""}},a.onchangeHandlerForAddNewCourseForm=a.onchangeHandlerForAddNewCourseForm.bind(Object(c.a)(a)),a.addYear=a.addYear.bind(Object(c.a)(a)),a.deleteYear=a.deleteYear.bind(Object(c.a)(a)),a.addSemester=a.addSemester.bind(Object(c.a)(a)),a.deleteSemester=a.deleteSemester.bind(Object(c.a)(a)),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="".concat(i.a.restApiBaseUrl,"/syllabus/get/").concat(this.state.syllabusName),a=new DOMParser;p.a.get(t).then((function(e){return e.data})).then((function(t){e.setState({syllabusXmlObj:a.parseFromString(t,"text/xml")}),e.parseXMLData()}))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"container"},u.a.createElement("h6",null,"Edit Syllabus"),u.a.createElement("div",null,u.a.createElement(y.a,{size:"sm",bordered:!0},u.a.createElement("thead",null),u.a.createElement("tbody",null,this.state.years.map((function(t,a){return u.a.createElement(u.a.Fragment,{key:Math.floor(1e3*Math.random())},u.a.createElement("tr",{key:Math.floor(1e3*Math.random())},u.a.createElement("td",{rowSpan:e.getYearRowSpan(a)},t.yearId+e.getNumberSuffix(t.yearId)+" Year ",u.a.createElement(x,{yearData:{yearId:t.yearId},addSemester:e.addSemester,deleteYear:e.deleteYear})),t.semesters.length>0?u.a.createElement("td",{rowSpan:e.getSemesterRowSpan(a,0)},t.semesters[0].semesterId+e.getNumberSuffix(t.semesters[0].semesterId)+" Semester ",u.a.createElement(w,{semesterData:{yearId:t.yearId,semesterId:t.semesters[0].semesterId},deleteSemester:e.deleteSemester})):null,t.semesters.length>0&&t.semesters[0].courses.length>0?u.a.createElement(u.a.Fragment,{key:Math.floor(1e3*Math.random())},u.a.createElement("td",null,t.semesters[0].courses[0].courseCode),u.a.createElement("td",null,u.a.createElement(h.a,{size:"sm",variant:"outline-secondary",style:D},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.d})))),u.a.createElement("td",null,u.a.createElement(h.a,{size:"sm",variant:"outline-danger",style:D},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.h}))))):null),t.semesters.length>0&&t.semesters[0].courses.length>1?t.semesters[0].courses.map((function(e,t){return t>0?u.a.createElement("tr",{key:Math.floor(1e3*Math.random())},u.a.createElement("td",null,e.courseCode),u.a.createElement("td",null,u.a.createElement(h.a,{size:"sm",variant:"outline-secondary",style:D},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.d})))),u.a.createElement("td",null,u.a.createElement(h.a,{size:"sm",variant:"outline-danger",style:D},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.h}))))):null})):null,t.semesters.length>1?t.semesters.map((function(a,r){return r>0?u.a.createElement(u.a.Fragment,{key:Math.floor(1e3*Math.random())},u.a.createElement("tr",{key:Math.floor(1e3*Math.random())},u.a.createElement("td",{rowSpan:Math.max(1,a.courses.length)},a.semesterId+e.getNumberSuffix(a.semesterId)+" Semester ",u.a.createElement(w,{semesterData:{yearId:t.yearId,semesterId:a.semesterId},deleteSemester:e.deleteSemester})),a.courses.length>0?u.a.createElement(u.a.Fragment,{key:Math.floor(1e3*Math.random())},u.a.createElement("td",null,a.courses[0].courseCode),u.a.createElement("td",null,u.a.createElement(h.a,{size:"sm",variant:"outline-secondary",style:D},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.d})))),u.a.createElement("td",null,u.a.createElement(h.a,{size:"sm",variant:"outline-danger",style:D},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.h}))))):null),a.courses.length>1?a.courses.map((function(e,t){return t>0?u.a.createElement("tr",{key:Math.floor(1e3*Math.random())},u.a.createElement("td",null,e.courseCode),u.a.createElement("td",null,u.a.createElement(h.a,{size:"sm",variant:"outline-secondary",style:D},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.d})))),u.a.createElement("td",null,u.a.createElement(h.a,{size:"sm",variant:"outline-danger",style:D},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.h}))))):null})):null):null})):null)})))),u.a.createElement("table",{style:{border:"none"}},u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement(h.a,{size:"sm",variant:"outline-secondary",style:{float:"left"},onClick:this.addYear},u.a.createElement("span",null,u.a.createElement(g.a,{icon:f.e}))," Add Year")))))),u.a.createElement("div",{className:"container"}))}}]),t}(m.Component);t.default=N},77:function(e,t,a){"use strict";t.a={restApiBaseUrl:"https://cseju.herokuapp.com/api"}}}]);
//# sourceMappingURL=7.9c4e388a.chunk.js.map